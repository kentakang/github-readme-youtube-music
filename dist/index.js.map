{"version":3,"sources":["webpack://github-readme-youtube-music/./src/index.ts","webpack://github-readme-youtube-music/external \"@actions/core\"","webpack://github-readme-youtube-music/external \"child_process\"","webpack://github-readme-youtube-music/external \"puppeteer\"","webpack://github-readme-youtube-music/external \"puppeteer-extra-plugin-stealth\"","webpack://github-readme-youtube-music/webpack/bootstrap","webpack://github-readme-youtube-music/webpack/startup"],"names":["console","log","exec","stealthPlugin","getInput","use","launch","headless","browser","newPage","page","goto","waitUntil","waitForSelector","type","keyboard","press","content","data","close","Promise","resolve","then","r","v","error","setFailed","message","module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"mappings":"89CACA,aACA,SAGAA,QAAQC,IAAI,wBACZ,EAAAC,KAAK,wDAAwD,WAC3D,IACE,IAAM,EAAY,EAAQ,KACpBC,EAAgB,EAAQ,GACxB,EAAY,EAAAC,SAAS,cACrB,EAAY,EAAAA,SAAS,oBAE3B,EAAUC,IAAIF,KAEb,mC,4DAC0B,SAAM,EAAUG,OAAO,CAAEC,UAAU,K,OACzC,UADbC,EAAmB,UACQC,W,OAGjC,UAHMC,EAAa,UAGRC,KAAK,mDAAoD,CAAEC,UAAW,kB,OACjF,OADA,SACA,GAAMF,EAAKG,gBAAgB,kB,OAC3B,OADA,SACA,GAAMH,EAAKI,KAAK,sBAAuB,I,OACvC,OADA,SACA,GAAMJ,EAAKK,SAASC,MAAM,U,OAC1B,OADA,SACA,GAAMN,EAAKG,gBAAgB,2B,OAC3B,OADA,SACA,GAAMH,EAAKI,KAAK,yBAA0B,I,OAC1C,OADA,SACA,GAAMJ,EAAKK,SAASC,MAAM,U,OAEb,OAFb,SAEa,GAAMN,EAAKO,W,QAIxB,OAJMC,EAAO,SAEblB,QAAQC,IAAI,OAAQiB,GAEpB,GAAMV,EAAQW,S,QAEd,OAFA,SAEO,CAAP,EAAO,IAAIC,SAAQ,SAACC,GAAY,OAAAA,EAAQ,kBACrCC,MAAK,SAACC,GAAM,OAAAvB,QAAQC,IAAIsB,MAAI,SAACC,GAAM,OAAAxB,QAAQC,IAAIuB,MACpD,MAAOC,GACP,EAAAC,UAAUD,EAAME,c,QCrCpBC,EAAOC,QAAUC,QAAQ,kB,QCAzBF,EAAOC,QAAUC,QAAQ,kB,QCAzBF,EAAOC,QAAUC,QAAQ,c,MCAzBF,EAAOC,QAAUC,QAAQ,oCCCrBC,EAA2B,IAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaL,QAGrB,IAAID,EAASG,EAAyBE,GAAY,CAGjDJ,QAAS,IAOV,OAHAO,EAAoBH,GAAUI,KAAKT,EAAOC,QAASD,EAAQA,EAAOC,QAASG,GAGpEJ,EAAOC,QClBWG,CAAoB,M","file":"index.js","sourcesContent":["/* eslint-disable global-require */\nimport { getInput, setFailed } from '@actions/core';\nimport { exec } from 'child_process';\nimport { Browser, Page } from 'puppeteer';\n\nconsole.log('installing puppeteer');\nexec('sudo npm i puppeteer --unsafe-perm=true --allow-root', () => {\n  try {\n    const puppeteer = require('puppeteer');\n    const stealthPlugin = require('puppeteer-extra-plugin-stealth');\n    const youtubeId = getInput('account-id');\n    const youtubePw = getInput('account-password');\n\n    puppeteer.use(stealthPlugin());\n\n    (async () => {\n      const browser: Browser = await puppeteer.launch({ headless: true });\n      const page: Page = await browser.newPage();\n\n      // Login Process\n      await page.goto('https://accounts.google.com/signin/v2/identifier', { waitUntil: 'networkidle2' });\n      await page.waitForSelector('#identifierId');\n      await page.type('input[type=\"email\"]', youtubeId);\n      await page.keyboard.press('Enter');\n      await page.waitForSelector('input[type=\"password\"]');\n      await page.type('input[type=\"password\"]', youtubePw);\n      await page.keyboard.press('Enter');\n\n      const data = await page.content();\n\n      console.log('data', data);\n\n      await browser.close();\n\n      return new Promise((resolve) => resolve('end'));\n    })().then((r) => console.log(r), (v) => console.log(v));\n  } catch (error) {\n    setFailed(error.message);\n  }\n});\n","module.exports = require(\"@actions/core\");;","module.exports = require(\"child_process\");;","module.exports = require(\"puppeteer\");;","module.exports = require(\"puppeteer-extra-plugin-stealth\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(432);\n"],"sourceRoot":""}